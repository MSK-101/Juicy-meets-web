user2 logs
🔑 PubNub keys check:
pubnubService.ts:76   - Publish key length: 42
pubnubService.ts:77   - Subscribe key length: 42
pubnubService.ts:78   - Publish key starts with: pub-c-796a...
pubnubService.ts:79   - Subscribe key starts with: sub-c-7da9...
pubnubService.ts:94 ✅ PubNub instance created successfully
cleanVideoChatService.ts:40 🎥 CleanVideoChatService initialized with user ID: user_1755463163635_yxoslr2j2
DiamondCountBar.tsx:7 Image with src "http://localhost:3001/diamond.svg" has either width or height modified, but not the other. If you use CSS to change the size of your image, also include the styles 'width: "auto"' or 'height: "auto"' to maintain the aspect ratio.
warnOnce @ warn-once.ts:6
(anonymous) @ image-component.tsx:161
Promise.then
handleLoading @ image-component.tsx:77
(anonymous) @ image-component.tsx:233
applyRef @ use-merged-ref.ts:55
(anonymous) @ use-merged-ref.ts:42
commitAttachRef @ react-dom-client.development.js:12245
runWithFiberInDEV @ react-dom-client.development.js:844
safelyAttachRef @ react-dom-client.development.js:12263
commitLayoutEffectOnFiber @ react-dom-client.development.js:12804
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12802
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12802
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12802
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12802
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12802
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12802
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12691
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12691
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12691
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12691
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12691
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12691
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12691
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12802
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12802
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12691
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12691
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12691
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12691
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12686
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12866
recursivelyTraverseLayoutEffects @ react-dom-client.development.js:13672
commitLayoutEffectOnFiber @ react-dom-client.development.js:12768
flushLayoutEffects @ react-dom-client.development.js:15686
commitRoot @ react-dom-client.development.js:15527
commitRootWhenReady @ react-dom-client.development.js:14758
performWorkOnRoot @ react-dom-client.development.js:14681
performWorkOnRootViaSchedulerTask @ react-dom-client.development.js:16349
performWorkUntilDeadline @ scheduler.development.js:45
<img>
exports.jsx @ react-jsx-runtime.development.js:339
(anonymous) @ image-component.tsx:259
react-stack-bottom-frame @ react-dom-client.development.js:22973
renderWithHooksAgain @ react-dom-client.development.js:6766
renderWithHooks @ react-dom-client.development.js:6678
updateForwardRef @ react-dom-client.development.js:8678
beginWork @ react-dom-client.development.js:10894
runWithFiberInDEV @ react-dom-client.development.js:844
performUnitOfWork @ react-dom-client.development.js:15257
workLoopConcurrentByScheduler @ react-dom-client.development.js:15251
renderRootConcurrent @ react-dom-client.development.js:15226
performWorkOnRoot @ react-dom-client.development.js:14524
performWorkOnRootViaSchedulerTask @ react-dom-client.development.js:16349
performWorkUntilDeadline @ scheduler.development.js:45
<ForwardRef>
exports.jsx @ react-jsx-runtime.development.js:339
(anonymous) @ image-component.tsx:404
react-stack-bottom-frame @ react-dom-client.development.js:22973
renderWithHooksAgain @ react-dom-client.development.js:6766
renderWithHooks @ react-dom-client.development.js:6678
updateForwardRef @ react-dom-client.development.js:8678
beginWork @ react-dom-client.development.js:10894
runWithFiberInDEV @ react-dom-client.development.js:844
performUnitOfWork @ react-dom-client.development.js:15257
workLoopConcurrentByScheduler @ react-dom-client.development.js:15251
renderRootConcurrent @ react-dom-client.development.js:15226
performWorkOnRoot @ react-dom-client.development.js:14524
performWorkOnRootViaSchedulerTask @ react-dom-client.development.js:16349
performWorkUntilDeadline @ scheduler.development.js:45
<ForwardRef>
exports.jsxDEV @ react-jsx-dev-runtime.development.js:346
DiamondCountBar @ DiamondCountBar.tsx:7
react-stack-bottom-frame @ react-dom-client.development.js:22973
renderWithHooksAgain @ react-dom-client.development.js:6766
renderWithHooks @ react-dom-client.development.js:6678
updateFunctionComponent @ react-dom-client.development.js:8930
beginWork @ react-dom-client.development.js:10555
runWithFiberInDEV @ react-dom-client.development.js:844
performUnitOfWork @ react-dom-client.development.js:15257
workLoopConcurrentByScheduler @ react-dom-client.development.js:15251
renderRootConcurrent @ react-dom-client.development.js:15226
performWorkOnRoot @ react-dom-client.development.js:14524
performWorkOnRootViaSchedulerTask @ react-dom-client.development.js:16349
performWorkUntilDeadline @ scheduler.development.js:45
<DiamondCountBar>
exports.jsxDEV @ react-jsx-dev-runtime.development.js:346
VideoChatPage @ page.tsx:190
react-stack-bottom-frame @ react-dom-client.development.js:22973
renderWithHooksAgain @ react-dom-client.development.js:6766
renderWithHooks @ react-dom-client.development.js:6678
updateFunctionComponent @ react-dom-client.development.js:8930
beginWork @ react-dom-client.development.js:10555
runWithFiberInDEV @ react-dom-client.development.js:844
performUnitOfWork @ react-dom-client.development.js:15257
workLoopConcurrentByScheduler @ react-dom-client.development.js:15251
renderRootConcurrent @ react-dom-client.development.js:15226
performWorkOnRoot @ react-dom-client.development.js:14524
performWorkOnRootViaSchedulerTask @ react-dom-client.development.js:16349
performWorkUntilDeadline @ scheduler.development.js:45
<VideoChatPage>
exports.jsx @ react-jsx-runtime.development.js:339
ClientPageRoot @ client-page.tsx:60
react-stack-bottom-frame @ react-dom-client.development.js:22973
renderWithHooksAgain @ react-dom-client.development.js:6766
renderWithHooks @ react-dom-client.development.js:6678
updateFunctionComponent @ react-dom-client.development.js:8930
beginWork @ react-dom-client.development.js:10504
runWithFiberInDEV @ react-dom-client.development.js:844
performUnitOfWork @ react-dom-client.development.js:15257
workLoopConcurrentByScheduler @ react-dom-client.development.js:15251
renderRootConcurrent @ react-dom-client.development.js:15226
performWorkOnRoot @ react-dom-client.development.js:14524
performWorkOnRootViaSchedulerTask @ react-dom-client.development.js:16349
performWorkUntilDeadline @ scheduler.development.js:45
"use client"
(anonymous) @ react-server-dom-turbopack-client.browser.development.js:2347
initializeModelChunk @ react-server-dom-turbopack-client.browser.development.js:1047
resolveModelChunk @ react-server-dom-turbopack-client.browser.development.js:1024
resolveModel @ react-server-dom-turbopack-client.browser.development.js:1592
processFullStringRow @ react-server-dom-turbopack-client.browser.development.js:2281
processFullBinaryRow @ react-server-dom-turbopack-client.browser.development.js:2226
progress @ react-server-dom-turbopack-client.browser.development.js:2472
"use server"
ResponseInstance @ react-server-dom-turbopack-client.browser.development.js:1580
createResponseFromOptions @ react-server-dom-turbopack-client.browser.development.js:2389
exports.createFromReadableStream @ react-server-dom-turbopack-client.browser.development.js:2702
[project]/node_modules/next/dist/client/app-index.js [app-client] (ecmascript) @ app-index.tsx:157
(anonymous) @ dev-base.ts:201
runModuleExecutionHooks @ dev-base.ts:261
instantiateModule @ dev-base.ts:199
getOrInstantiateModuleFromParent @ dev-base.ts:128
commonJsRequire @ runtime-utils.ts:241
(anonymous) @ app-next-turbopack.ts:11
(anonymous) @ app-bootstrap.ts:78
loadScriptsInSequence @ app-bootstrap.ts:20
appBootstrap @ app-bootstrap.ts:60
[project]/node_modules/next/dist/client/app-next-turbopack.js [app-client] (ecmascript) @ app-next-turbopack.ts:10
(anonymous) @ dev-base.ts:201
runModuleExecutionHooks @ dev-base.ts:261
instantiateModule @ dev-base.ts:199
getOrInstantiateRuntimeModule @ dev-base.ts:97
registerChunk @ runtime-backend-dom.ts:85
await in registerChunk
registerChunk @ runtime-base.ts:356
(anonymous) @ dev-backend-dom.ts:127
(anonymous) @ dev-backend-dom.ts:127Understand this warning
SplitVideoChat.tsx:38 🔄 Remote stream effect triggered: false false
SplitVideoChat.tsx:46 ⚠️ Remote stream or video ref not available
SplitVideoChat.tsx:59 📺 Remote video component initialized for chat: turjaa
SplitVideoChat.tsx:38 🔄 Remote stream effect triggered: false false
SplitVideoChat.tsx:46 ⚠️ Remote stream or video ref not available
SplitVideoChat.tsx:61 📹 Local video component initialized for chat: turjaa
page.tsx:58 🆔 Generated user ID for page: user-1755466940540-339qobalu
page.tsx:61 🚀 Initializing clean video chat for page: turjaa
cleanVideoChatService.ts:82 🎯 Joining video chat queue with user ID: user_1755463163635_yxoslr2j2
report-hmr-latency.ts:26 [Fast Refresh] done in NaNms
cleanVideoChatService.ts:90 ✅ Successfully joined queue
cleanVideoChatService.ts:173 🔄 Starting status checking...
cleanVideoChatService.ts:129 📹 Getting local video stream...
cleanVideoChatService.ts:134 ✅ Got local stream
page.tsx:93 ✅ Clean video chat initialized successfully on page
cleanVideoChatService.ts:177 🔄 Checking status for user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:184 📡 Status API response: {status: 'matched', room_id: 'room_1755466940_be9ffb03', partner: {…}, is_initiator: true}
cleanVideoChatService.ts:230 📊 Status update: {status: 'matched', room_id: 'room_1755466940_be9ffb03', partner: {…}, is_initiator: true}
cleanVideoChatService.ts:231 📊 Current room ID: null
cleanVideoChatService.ts:232 📊 Status type: matched
cleanVideoChatService.ts:242 🎉 Got matched! {status: 'matched', room_id: 'room_1755466940_be9ffb03', partner: {…}, is_initiator: true}
cleanVideoChatService.ts:204 🛑 Status checking stopped
cleanVideoChatService.ts:211 🔔 Connecting to PubNub for room: room_1755466940_be9ffb03
pubnubService.ts:122 🔌 PubNub: Starting connection process...
pubnubService.ts:123 🔌 PubNub: Current state before connection:
pubnubService.ts:124   - currentUser: null
pubnubService.ts:125   - currentChatId: null
pubnubService.ts:126   - userId to connect: user_1755463163635_yxoslr2j2
pubnubService.ts:127   - chatId to connect: room_1755466940_be9ffb03
pubnubService.ts:133 🔌 PubNub: Set currentUser and currentChatId
pubnubService.ts:134   - currentUser: user_1755463163635_yxoslr2j2
pubnubService.ts:135   - currentChatId: room_1755466940_be9ffb03
pubnubService.ts:144 📡 PubNub: Subscribing to channels: (2) ['chat-room_1755466940_be9ffb03', 'presence-room_1755466940_be9ffb03']
pubnubService.ts:152 ✅ PubNub: Subscribed to channels successfully
pubnubService.ts:155 👤 PubNub: Setting presence state for user: user_1755463163635_yxoslr2j2
pubnubService.ts:161 ✅ PubNub: Presence state set successfully
pubnubService.ts:166 ⏳ Waited for presence state propagation
pubnubService.ts:170 ✅ PubNub connection completed successfully
pubnubService.ts:171 🔍 PubNub: Final state after connection:
pubnubService.ts:172   - currentUser: user_1755463163635_yxoslr2j2
pubnubService.ts:173   - currentChatId: room_1755466940_be9ffb03
pubnubService.ts:174   - onlineUsers: ['user_1755463163635_yxoslr2j2']
pubnubService.ts:780 📢 Announcing presence to channel: presence-room_1755466940_be9ffb03
pubnubService.ts:207 📨 PubNub message received: {channel: 'presence-room_1755466940_be9ffb03', subscription: 'presence-room_1755466940_be9ffb03', actualChannel: 'presence-room_1755466940_be9ffb03', subscribedChannel: 'presence-room_1755466940_be9ffb03', timetoken: '17554669469826963', …}
pubnubService.ts:210 📨 Message details: {channel: 'presence-room_1755466940_be9ffb03', messageType: 'presence-announce', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:293 📢 Processing presence announce message from user: user_1755463963096_8n4y3hq0z
pubnubService.ts:295 📢 Presence announce from user: user_1755463963096_8n4y3hq0z
pubnubService.ts:297 ➕ Added user to online list via announce: user_1755463963096_8n4y3hq0z
pubnubService.ts:298 👥 Updated online users: (2) ['user_1755463163635_yxoslr2j2', 'user_1755463963096_8n4y3hq0z']
pubnubService.ts:613 🔄 Notifying presence change, online users: (2) ['user_1755463163635_yxoslr2j2', 'user_1755463963096_8n4y3hq0z']
pubnubService.ts:793 ✅ Presence announced successfully
pubnubService.ts:207 📨 PubNub message received: {channel: 'presence-room_1755466940_be9ffb03', subscription: 'presence-room_1755466940_be9ffb03', actualChannel: 'presence-room_1755466940_be9ffb03', subscribedChannel: 'presence-room_1755466940_be9ffb03', timetoken: '17554669470621914', …}
pubnubService.ts:210 📨 Message details: {channel: 'presence-room_1755466940_be9ffb03', messageType: 'presence-announce', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:293 📢 Processing presence announce message from user: user_1755463163635_yxoslr2j2
pubnubService.ts:301 ⚠️ Ignoring announce message from self or invalid user
pubnubService.ts:207 📨 PubNub message received: {channel: 'presence-room_1755466940_be9ffb03', subscription: 'presence-room_1755466940_be9ffb03', actualChannel: 'presence-room_1755466940_be9ffb03', subscribedChannel: 'presence-room_1755466940_be9ffb03', timetoken: '17554669472743464', …}
pubnubService.ts:210 📨 Message details: {channel: 'presence-room_1755466940_be9ffb03', messageType: 'presence-sync-request', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:247 🔄 Processing presence sync request from user: user_1755463963096_8n4y3hq0z
pubnubService.ts:250 🔄 Responding to presence sync request from: user_1755463963096_8n4y3hq0z
pubnubService.ts:806 ✅ Presence sync request sent
cleanVideoChatService.ts:255 🚀 About to start WebRTC connection...
cleanVideoChatService.ts:262 🔗 Starting WebRTC connection as initiator
cleanVideoChatService.ts:278 📹 Adding local stream tracks: 2
cleanVideoChatService.ts:280 📹 Adding track 0: audio true
cleanVideoChatService.ts:280 📹 Adding track 1: video true
cleanVideoChatService.ts:286 📤 Creating offer...
cleanVideoChatService.ts:287 📤 User ID: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:288 📤 Partner ID: user_1755463963096_8n4y3hq0z
cleanVideoChatService.ts:289 📤 Room ID: room_1755466940_be9ffb03
cleanVideoChatService.ts:297 📤 Local description set
cleanVideoChatService.ts:369 📤 Sending offer signal via PubNub
pubnubService.ts:392 📤 PubNub: Sending WebRTC signal to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:393 📤 Message content: {type: 'offer', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:394 📤 Signal type: offer
pubnubService.ts:395 📤 From user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:381 ✅ offer signal sent via PubNub
cleanVideoChatService.ts:301 ✅ Offer sent via PubNub
cleanVideoChatService.ts:257 🚀 WebRTC connection setup complete
cleanVideoChatService.ts:341 🧊 Sending ICE candidate
cleanVideoChatService.ts:369 📤 Sending ice-candidate signal via PubNub
pubnubService.ts:392 📤 PubNub: Sending WebRTC signal to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:393 📤 Message content: {type: 'ice-candidate', data: RTCIceCandidate, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:394 📤 Signal type: ice-candidate
pubnubService.ts:395 📤 From user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:381 ✅ ice-candidate signal sent via PubNub
cleanVideoChatService.ts:341 🧊 Sending ICE candidate
cleanVideoChatService.ts:369 📤 Sending ice-candidate signal via PubNub
pubnubService.ts:392 📤 PubNub: Sending WebRTC signal to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:393 📤 Message content: {type: 'ice-candidate', data: RTCIceCandidate, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:394 📤 Signal type: ice-candidate
pubnubService.ts:395 📤 From user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:381 ✅ ice-candidate signal sent via PubNub
cleanVideoChatService.ts:341 🧊 Sending ICE candidate
cleanVideoChatService.ts:369 📤 Sending ice-candidate signal via PubNub
pubnubService.ts:392 📤 PubNub: Sending WebRTC signal to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:393 📤 Message content: {type: 'ice-candidate', data: RTCIceCandidate, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:394 📤 Signal type: ice-candidate
pubnubService.ts:395 📤 From user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:381 ✅ ice-candidate signal sent via PubNub
cleanVideoChatService.ts:341 🧊 Sending ICE candidate
cleanVideoChatService.ts:369 📤 Sending ice-candidate signal via PubNub
pubnubService.ts:392 📤 PubNub: Sending WebRTC signal to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:393 📤 Message content: {type: 'ice-candidate', data: RTCIceCandidate, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:394 📤 Signal type: ice-candidate
pubnubService.ts:395 📤 From user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:381 ✅ ice-candidate signal sent via PubNub
cleanVideoChatService.ts:341 🧊 Sending ICE candidate
cleanVideoChatService.ts:369 📤 Sending ice-candidate signal via PubNub
pubnubService.ts:392 📤 PubNub: Sending WebRTC signal to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:393 📤 Message content: {type: 'ice-candidate', data: RTCIceCandidate, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:394 📤 Signal type: ice-candidate
pubnubService.ts:395 📤 From user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:381 ✅ ice-candidate signal sent via PubNub
cleanVideoChatService.ts:341 🧊 Sending ICE candidate
cleanVideoChatService.ts:369 📤 Sending ice-candidate signal via PubNub
pubnubService.ts:392 📤 PubNub: Sending WebRTC signal to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:393 📤 Message content: {type: 'ice-candidate', data: RTCIceCandidate, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:394 📤 Signal type: ice-candidate
pubnubService.ts:395 📤 From user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:381 ✅ ice-candidate signal sent via PubNub
cleanVideoChatService.ts:341 🧊 Sending ICE candidate
cleanVideoChatService.ts:369 📤 Sending ice-candidate signal via PubNub
pubnubService.ts:392 📤 PubNub: Sending WebRTC signal to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:393 📤 Message content: {type: 'ice-candidate', data: RTCIceCandidate, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:394 📤 Signal type: ice-candidate
pubnubService.ts:395 📤 From user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:381 ✅ ice-candidate signal sent via PubNub
cleanVideoChatService.ts:341 🧊 Sending ICE candidate
cleanVideoChatService.ts:369 📤 Sending ice-candidate signal via PubNub
pubnubService.ts:392 📤 PubNub: Sending WebRTC signal to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:393 📤 Message content: {type: 'ice-candidate', data: RTCIceCandidate, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:394 📤 Signal type: ice-candidate
pubnubService.ts:395 📤 From user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:381 ✅ ice-candidate signal sent via PubNub
cleanVideoChatService.ts:341 🧊 Sending ICE candidate
cleanVideoChatService.ts:369 📤 Sending ice-candidate signal via PubNub
pubnubService.ts:392 📤 PubNub: Sending WebRTC signal to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:393 📤 Message content: {type: 'ice-candidate', data: RTCIceCandidate, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:394 📤 Signal type: ice-candidate
pubnubService.ts:395 📤 From user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:381 ✅ ice-candidate signal sent via PubNub
cleanVideoChatService.ts:341 🧊 Sending ICE candidate
cleanVideoChatService.ts:369 📤 Sending ice-candidate signal via PubNub
pubnubService.ts:392 📤 PubNub: Sending WebRTC signal to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:393 📤 Message content: {type: 'ice-candidate', data: RTCIceCandidate, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:394 📤 Signal type: ice-candidate
pubnubService.ts:395 📤 From user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:381 ✅ ice-candidate signal sent via PubNub
cleanVideoChatService.ts:341 🧊 Sending ICE candidate
cleanVideoChatService.ts:369 📤 Sending ice-candidate signal via PubNub
pubnubService.ts:392 📤 PubNub: Sending WebRTC signal to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:393 📤 Message content: {type: 'ice-candidate', data: RTCIceCandidate, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:394 📤 Signal type: ice-candidate
pubnubService.ts:395 📤 From user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:381 ✅ ice-candidate signal sent via PubNub
cleanVideoChatService.ts:341 🧊 Sending ICE candidate
cleanVideoChatService.ts:369 📤 Sending ice-candidate signal via PubNub
pubnubService.ts:392 📤 PubNub: Sending WebRTC signal to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:393 📤 Message content: {type: 'ice-candidate', data: RTCIceCandidate, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:394 📤 Signal type: ice-candidate
pubnubService.ts:395 📤 From user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:381 ✅ ice-candidate signal sent via PubNub
cleanVideoChatService.ts:341 🧊 Sending ICE candidate
cleanVideoChatService.ts:369 📤 Sending ice-candidate signal via PubNub
pubnubService.ts:392 📤 PubNub: Sending WebRTC signal to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:393 📤 Message content: {type: 'ice-candidate', data: RTCIceCandidate, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:394 📤 Signal type: ice-candidate
pubnubService.ts:395 📤 From user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:381 ✅ ice-candidate signal sent via PubNub
cleanVideoChatService.ts:341 🧊 Sending ICE candidate
cleanVideoChatService.ts:369 📤 Sending ice-candidate signal via PubNub
pubnubService.ts:392 📤 PubNub: Sending WebRTC signal to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:393 📤 Message content: {type: 'ice-candidate', data: RTCIceCandidate, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:394 📤 Signal type: ice-candidate
pubnubService.ts:395 📤 From user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:381 ✅ ice-candidate signal sent via PubNub
cleanVideoChatService.ts:341 🧊 Sending ICE candidate
cleanVideoChatService.ts:369 📤 Sending ice-candidate signal via PubNub
pubnubService.ts:392 📤 PubNub: Sending WebRTC signal to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:393 📤 Message content: {type: 'ice-candidate', data: RTCIceCandidate, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:394 📤 Signal type: ice-candidate
pubnubService.ts:395 📤 From user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:381 ✅ ice-candidate signal sent via PubNub
cleanVideoChatService.ts:341 🧊 Sending ICE candidate
cleanVideoChatService.ts:369 📤 Sending ice-candidate signal via PubNub
pubnubService.ts:392 📤 PubNub: Sending WebRTC signal to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:393 📤 Message content: {type: 'ice-candidate', data: RTCIceCandidate, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:394 📤 Signal type: ice-candidate
pubnubService.ts:395 📤 From user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:381 ✅ ice-candidate signal sent via PubNub
cleanVideoChatService.ts:341 🧊 Sending ICE candidate
cleanVideoChatService.ts:369 📤 Sending ice-candidate signal via PubNub
pubnubService.ts:392 📤 PubNub: Sending WebRTC signal to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:393 📤 Message content: {type: 'ice-candidate', data: RTCIceCandidate, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:394 📤 Signal type: ice-candidate
pubnubService.ts:395 📤 From user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:381 ✅ ice-candidate signal sent via PubNub
cleanVideoChatService.ts:341 🧊 Sending ICE candidate
cleanVideoChatService.ts:369 📤 Sending ice-candidate signal via PubNub
pubnubService.ts:392 📤 PubNub: Sending WebRTC signal to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:393 📤 Message content: {type: 'ice-candidate', data: RTCIceCandidate, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:394 📤 Signal type: ice-candidate
pubnubService.ts:395 📤 From user: user_1755463163635_yxoslr2j2
cleanVideoChatService.ts:381 ✅ ice-candidate signal sent via PubNub
pubnubService.ts:263 ✅ Sent presence sync response to: user_1755463963096_8n4y3hq0z
pubnubService.ts:267 ➕ Added requesting user to online list: user_1755463963096_8n4y3hq0z
pubnubService.ts:613 🔄 Notifying presence change, online users: (2) ['user_1755463163635_yxoslr2j2', 'user_1755463963096_8n4y3hq0z']
pubnubService.ts:207 📨 PubNub message received: {channel: 'presence-room_1755466940_be9ffb03', subscription: 'presence-room_1755466940_be9ffb03', actualChannel: 'presence-room_1755466940_be9ffb03', subscribedChannel: 'presence-room_1755466940_be9ffb03', timetoken: '17554669473478098', …}
pubnubService.ts:210 📨 Message details: {channel: 'presence-room_1755466940_be9ffb03', messageType: 'presence-sync-request', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:247 🔄 Processing presence sync request from user: user_1755463163635_yxoslr2j2
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: presence-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'presence-sync-request', userId: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03', timestamp: 1755466947068}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'presence-sync-request'}
pubnubService.ts:461 ⚠️ Ignoring non-WebRTC message or invalid structure
pubnubService.ts:207 📨 PubNub message received: {channel: 'presence-room_1755466940_be9ffb03', subscription: 'presence-room_1755466940_be9ffb03', actualChannel: 'presence-room_1755466940_be9ffb03', subscribedChannel: 'presence-room_1755466940_be9ffb03', timetoken: '17554669475660325', …}
pubnubService.ts:210 📨 Message details: {channel: 'presence-room_1755466940_be9ffb03', messageType: 'presence-sync-response', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:279 🔄 Processing presence sync response from user: user_1755463163635_yxoslr2j2
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: presence-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'presence-sync-response', userId: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03', timestamp: 1755466947282}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'presence-sync-response'}
pubnubService.ts:461 ⚠️ Ignoring non-WebRTC message or invalid structure
pubnubService.ts:401 ✅ PubNub WebRTC signal sent successfully: {timetoken: '17554669479150355'}
pubnubService.ts:402 ✅ Sent to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:401 ✅ PubNub WebRTC signal sent successfully: {timetoken: '17554669479454361'}
pubnubService.ts:402 ✅ Sent to channel: chat-room_1755466940_be9ffb03
cleanVideoChatService.ts:319 🔗 Connection state: connecting
cleanVideoChatService.ts:324 📡 Senders count: 2
cleanVideoChatService.ts:325 📡 Receivers count: 2
page.tsx:71 🔗 Connection state changed on page: connecting
pubnubService.ts:401 ✅ PubNub WebRTC signal sent successfully: {timetoken: '17554669481991957'}
pubnubService.ts:402 ✅ Sent to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:401 ✅ PubNub WebRTC signal sent successfully: {timetoken: '17554669483787276'}
pubnubService.ts:402 ✅ Sent to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:401 ✅ PubNub WebRTC signal sent successfully: {timetoken: '17554669484828874'}
pubnubService.ts:402 ✅ Sent to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:401 ✅ PubNub WebRTC signal sent successfully: {timetoken: '17554669485009068'}
pubnubService.ts:402 ✅ Sent to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:401 ✅ PubNub WebRTC signal sent successfully: {timetoken: '17554669485091118'}
pubnubService.ts:402 ✅ Sent to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:401 ✅ PubNub WebRTC signal sent successfully: {timetoken: '17554669485135205'}
pubnubService.ts:402 ✅ Sent to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:401 ✅ PubNub WebRTC signal sent successfully: {timetoken: '17554669485827959'}
pubnubService.ts:402 ✅ Sent to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:401 ✅ PubNub WebRTC signal sent successfully: {timetoken: '17554669486602475'}
pubnubService.ts:402 ✅ Sent to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:401 ✅ PubNub WebRTC signal sent successfully: {timetoken: '17554669487812218'}
pubnubService.ts:402 ✅ Sent to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:401 ✅ PubNub WebRTC signal sent successfully: {timetoken: '17554669487981522'}
pubnubService.ts:402 ✅ Sent to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:401 ✅ PubNub WebRTC signal sent successfully: {timetoken: '17554669488680924'}
pubnubService.ts:402 ✅ Sent to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:401 ✅ PubNub WebRTC signal sent successfully: {timetoken: '17554669489057951'}
pubnubService.ts:402 ✅ Sent to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:401 ✅ PubNub WebRTC signal sent successfully: {timetoken: '17554669489270585'}
pubnubService.ts:402 ✅ Sent to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:401 ✅ PubNub WebRTC signal sent successfully: {timetoken: '17554669490831010'}
pubnubService.ts:402 ✅ Sent to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:401 ✅ PubNub WebRTC signal sent successfully: {timetoken: '17554669490818621'}
pubnubService.ts:402 ✅ Sent to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:401 ✅ PubNub WebRTC signal sent successfully: {timetoken: '17554669491544545'}
pubnubService.ts:402 ✅ Sent to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:401 ✅ PubNub WebRTC signal sent successfully: {timetoken: '17554669492012095'}
pubnubService.ts:402 ✅ Sent to channel: chat-room_1755466940_be9ffb03
pubnubService.ts:207 📨 PubNub message received: {channel: 'presence-room_1755466940_be9ffb03', subscription: 'presence-room_1755466940_be9ffb03', actualChannel: 'presence-room_1755466940_be9ffb03', subscribedChannel: 'presence-room_1755466940_be9ffb03', timetoken: '17554669477305103', …}
pubnubService.ts:210 📨 Message details: {channel: 'presence-room_1755466940_be9ffb03', messageType: 'presence-sync-response', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:279 🔄 Processing presence sync response from user: user_1755463963096_8n4y3hq0z
pubnubService.ts:282 🔄 Presence sync response from user: user_1755463963096_8n4y3hq0z
pubnubService.ts:284 ➕ Added user to online list via sync response: user_1755463963096_8n4y3hq0z
pubnubService.ts:285 👥 Updated online users: (2) ['user_1755463163635_yxoslr2j2', 'user_1755463963096_8n4y3hq0z']
pubnubService.ts:613 🔄 Notifying presence change, online users: (2) ['user_1755463163635_yxoslr2j2', 'user_1755463963096_8n4y3hq0z']
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: presence-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'presence-sync-response', userId: 'user_1755463963096_8n4y3hq0z', chatId: 'room_1755466940_be9ffb03', timestamp: 1755466947435}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'presence-sync-response'}
pubnubService.ts:461 ⚠️ Ignoring non-WebRTC message or invalid structure
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669479150355', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:220 🔄 Ignoring own signal: ice-candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669479454361', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'offer', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'offer', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'offer'}
pubnubService.ts:455 ✅ Processing WebRTC signal: offer
cleanVideoChatService.ts:220 🔄 Ignoring own signal: offer
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669481991957', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:220 🔄 Ignoring own signal: ice-candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669483787276', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:220 🔄 Ignoring own signal: ice-candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669484471241', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'answer', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'answer', data: {…}, from: 'user_1755463963096_8n4y3hq0z', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'answer'}
pubnubService.ts:455 ✅ Processing WebRTC signal: answer
cleanVideoChatService.ts:224 📨 Received WebRTC signal via PubNub: answer from: user_1755463963096_8n4y3hq0z
cleanVideoChatService.ts:389 📨 Received signal: answer Current state: have-local-offer
cleanVideoChatService.ts:454 📥 Handling answer, current state: have-local-offer
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669484828874', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:220 🔄 Ignoring own signal: ice-candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669485009068', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:220 🔄 Ignoring own signal: ice-candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669485091118', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:220 🔄 Ignoring own signal: ice-candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669485135205', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:220 🔄 Ignoring own signal: ice-candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669485827959', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:220 🔄 Ignoring own signal: ice-candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669486246228', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463963096_8n4y3hq0z', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:224 📨 Received WebRTC signal via PubNub: ice-candidate from: user_1755463963096_8n4y3hq0z
cleanVideoChatService.ts:389 📨 Received signal: ice-candidate Current state: have-local-offer
cleanVideoChatService.ts:470 🧊 Handling ICE candidate
cleanVideoChatService.ts:475 📦 Queued ICE candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669486602475', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:220 🔄 Ignoring own signal: ice-candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669487287339', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463963096_8n4y3hq0z', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:224 📨 Received WebRTC signal via PubNub: ice-candidate from: user_1755463963096_8n4y3hq0z
cleanVideoChatService.ts:389 📨 Received signal: ice-candidate Current state: have-local-offer
cleanVideoChatService.ts:470 🧊 Handling ICE candidate
cleanVideoChatService.ts:475 📦 Queued ICE candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669487812218', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:220 🔄 Ignoring own signal: ice-candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669487981522', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:220 🔄 Ignoring own signal: ice-candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669488680924', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:220 🔄 Ignoring own signal: ice-candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669489057951', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:220 🔄 Ignoring own signal: ice-candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669489144331', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463963096_8n4y3hq0z', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:224 📨 Received WebRTC signal via PubNub: ice-candidate from: user_1755463963096_8n4y3hq0z
cleanVideoChatService.ts:389 📨 Received signal: ice-candidate Current state: have-local-offer
cleanVideoChatService.ts:470 🧊 Handling ICE candidate
cleanVideoChatService.ts:475 📦 Queued ICE candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669489270585', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:220 🔄 Ignoring own signal: ice-candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669490078693', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463963096_8n4y3hq0z', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:224 📨 Received WebRTC signal via PubNub: ice-candidate from: user_1755463963096_8n4y3hq0z
cleanVideoChatService.ts:389 📨 Received signal: ice-candidate Current state: have-local-offer
cleanVideoChatService.ts:470 🧊 Handling ICE candidate
cleanVideoChatService.ts:475 📦 Queued ICE candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669490818621', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:220 🔄 Ignoring own signal: ice-candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669490831010', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:220 🔄 Ignoring own signal: ice-candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669491544545', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:220 🔄 Ignoring own signal: ice-candidate
cleanVideoChatService.ts:348 📹 Remote stream received!
cleanVideoChatService.ts:349 📹 Track kind: audio
cleanVideoChatService.ts:350 📹 Streams count: 1
cleanVideoChatService.ts:354 📹 Remote stream set with tracks: 2
page.tsx:65 📺 Remote stream received on page
cleanVideoChatService.ts:348 📹 Remote stream received!
cleanVideoChatService.ts:349 📹 Track kind: video
cleanVideoChatService.ts:350 📹 Streams count: 1
cleanVideoChatService.ts:354 📹 Remote stream set with tracks: 2
page.tsx:65 📺 Remote stream received on page
cleanVideoChatService.ts:463 ✅ Answer processed successfully
cleanVideoChatService.ts:489 📦 Processing 4 queued ICE candidates
cleanVideoChatService.ts:319 🔗 Connection state: connected
cleanVideoChatService.ts:324 📡 Senders count: 2
cleanVideoChatService.ts:325 📡 Receivers count: 2
cleanVideoChatService.ts:328 🎥 Checking streams on connection...
cleanVideoChatService.ts:329 🎥 Local stream tracks: 2
cleanVideoChatService.ts:330 🎥 Remote stream tracks: 2
page.tsx:71 🔗 Connection state changed on page: connected
SplitVideoChat.tsx:38 🔄 Remote stream effect triggered: true false
SplitVideoChat.tsx:46 ⚠️ Remote stream or video ref not available
SplitVideoChat.tsx:38 🔄 Remote stream effect triggered: true false
SplitVideoChat.tsx:46 ⚠️ Remote stream or video ref not available
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669491983111', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463963096_8n4y3hq0z', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:224 📨 Received WebRTC signal via PubNub: ice-candidate from: user_1755463963096_8n4y3hq0z
cleanVideoChatService.ts:389 📨 Received signal: ice-candidate Current state: stable
cleanVideoChatService.ts:470 🧊 Handling ICE candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669492012095', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463163635_yxoslr2j2', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:220 🔄 Ignoring own signal: ice-candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669492047992', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463963096_8n4y3hq0z', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:224 📨 Received WebRTC signal via PubNub: ice-candidate from: user_1755463963096_8n4y3hq0z
cleanVideoChatService.ts:389 📨 Received signal: ice-candidate Current state: stable
cleanVideoChatService.ts:470 🧊 Handling ICE candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669493298882', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463963096_8n4y3hq0z', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:224 📨 Received WebRTC signal via PubNub: ice-candidate from: user_1755463963096_8n4y3hq0z
cleanVideoChatService.ts:389 📨 Received signal: ice-candidate Current state: stable
cleanVideoChatService.ts:470 🧊 Handling ICE candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669493613709', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463963096_8n4y3hq0z', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:224 📨 Received WebRTC signal via PubNub: ice-candidate from: user_1755463963096_8n4y3hq0z
cleanVideoChatService.ts:389 📨 Received signal: ice-candidate Current state: stable
cleanVideoChatService.ts:470 🧊 Handling ICE candidate
pubnubService.ts:207 📨 PubNub message received: {channel: 'chat-room_1755466940_be9ffb03', subscription: 'chat-room_1755466940_be9ffb03', actualChannel: 'chat-room_1755466940_be9ffb03', subscribedChannel: 'chat-room_1755466940_be9ffb03', timetoken: '17554669494776247', …}
pubnubService.ts:210 📨 Message details: {channel: 'chat-room_1755466940_be9ffb03', messageType: 'ice-candidate', currentUser: 'user_1755463163635_yxoslr2j2', currentChatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:223 🔄 Skipping WebRTC signal - handled by WebRTC listener
pubnubService.ts:443 🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03
pubnubService.ts:444 🔍 Message content: {type: 'ice-candidate', data: {…}, from: 'user_1755463963096_8n4y3hq0z', chatId: 'room_1755466940_be9ffb03'}
pubnubService.ts:447 🔍 Message type check: {hasMessage: true, messageType: 'ice-candidate'}
pubnubService.ts:455 ✅ Processing WebRTC signal: ice-candidate
cleanVideoChatService.ts:224 📨 Received WebRTC signal via PubNub: ice-candidate from: user_1755463963096_8n4y3hq0z
cleanVideoChatService.ts:389 📨 Received signal: ice-candidate Current state: stable
cleanVideoChatService.ts:470 🧊 Handling ICE candidate
5cleanVideoChatService.ts:482 ✅ ICE candidate added













user1 logs

🧊 Handling ICE candidate cleanVideoChatService.ts:470:13
📨 PubNub message received:
Object { channel: "chat-room_1755466940_be9ffb03", subscription: "chat-room_1755466940_be9ffb03", actualChannel: "chat-room_1755466940_be9ffb03", subscribedChannel: "chat-room_1755466940_be9ffb03", timetoken: "17554669491983111", publisher: "user_1755463963096_8n4y3hq0z", message: {…} }
pubnubService.ts:207:21
📨 Message details:
Object { channel: "chat-room_1755466940_be9ffb03", messageType: "ice-candidate", currentUser: "user_1755463963096_8n4y3hq0z", currentChatId: "room_1755466940_be9ffb03" }
pubnubService.ts:210:21
🔄 Skipping WebRTC signal - handled by WebRTC listener pubnubService.ts:223:25
🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03 pubnubService.ts:443:17
🔍 Message content:
Object { type: "ice-candidate", data: {…}, from: "user_1755463963096_8n4y3hq0z", chatId: "room_1755466940_be9ffb03" }
pubnubService.ts:444:17
🔍 Message type check:
Object { hasMessage: true, messageType: "ice-candidate" }
pubnubService.ts:447:17
✅ Processing WebRTC signal: ice-candidate pubnubService.ts:455:21
🔄 Ignoring own signal: ice-candidate cleanVideoChatService.ts:220:17
📨 PubNub message received:
Object { channel: "chat-room_1755466940_be9ffb03", subscription: "chat-room_1755466940_be9ffb03", actualChannel: "chat-room_1755466940_be9ffb03", subscribedChannel: "chat-room_1755466940_be9ffb03", timetoken: "17554669492012095", publisher: "user_1755463163635_yxoslr2j2", message: {…} }
pubnubService.ts:207:21
📨 Message details:
Object { channel: "chat-room_1755466940_be9ffb03", messageType: "ice-candidate", currentUser: "user_1755463963096_8n4y3hq0z", currentChatId: "room_1755466940_be9ffb03" }
pubnubService.ts:210:21
🔄 Skipping WebRTC signal - handled by WebRTC listener pubnubService.ts:223:25
🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03 pubnubService.ts:443:17
🔍 Message content:
Object { type: "ice-candidate", data: {…}, from: "user_1755463163635_yxoslr2j2", chatId: "room_1755466940_be9ffb03" }
pubnubService.ts:444:17
🔍 Message type check:
Object { hasMessage: true, messageType: "ice-candidate" }
pubnubService.ts:447:17
✅ Processing WebRTC signal: ice-candidate pubnubService.ts:455:21
📨 Received WebRTC signal via PubNub: ice-candidate from: user_1755463163635_yxoslr2j2 cleanVideoChatService.ts:224:15
📨 Received signal: ice-candidate Current state: stable cleanVideoChatService.ts:389:13
🧊 Handling ICE candidate cleanVideoChatService.ts:470:13
📨 PubNub message received:
Object { channel: "chat-room_1755466940_be9ffb03", subscription: "chat-room_1755466940_be9ffb03", actualChannel: "chat-room_1755466940_be9ffb03", subscribedChannel: "chat-room_1755466940_be9ffb03", timetoken: "17554669492047992", publisher: "user_1755463963096_8n4y3hq0z", message: {…} }
pubnubService.ts:207:21
📨 Message details:
Object { channel: "chat-room_1755466940_be9ffb03", messageType: "ice-candidate", currentUser: "user_1755463963096_8n4y3hq0z", currentChatId: "room_1755466940_be9ffb03" }
pubnubService.ts:210:21
🔄 Skipping WebRTC signal - handled by WebRTC listener pubnubService.ts:223:25
🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03 pubnubService.ts:443:17
🔍 Message content:
Object { type: "ice-candidate", data: {…}, from: "user_1755463963096_8n4y3hq0z", chatId: "room_1755466940_be9ffb03" }
pubnubService.ts:444:17
🔍 Message type check:
Object { hasMessage: true, messageType: "ice-candidate" }
pubnubService.ts:447:17
✅ Processing WebRTC signal: ice-candidate pubnubService.ts:455:21
🔄 Ignoring own signal: ice-candidate cleanVideoChatService.ts:220:17
✅ ICE candidate added 10 cleanVideoChatService.ts:482:15
✅ ICE candidate added 6 cleanVideoChatService.ts:482:15
✅ PubNub WebRTC signal sent successfully:
Object { timetoken: "17554669494776247" }
pubnubService.ts:401:17
✅ Sent to channel: chat-room_1755466940_be9ffb03 pubnubService.ts:402:17
📨 PubNub message received:
Object { channel: "chat-room_1755466940_be9ffb03", subscription: "chat-room_1755466940_be9ffb03", actualChannel: "chat-room_1755466940_be9ffb03", subscribedChannel: "chat-room_1755466940_be9ffb03", timetoken: "17554669493298882", publisher: "user_1755463963096_8n4y3hq0z", message: {…} }
pubnubService.ts:207:21
📨 Message details:
Object { channel: "chat-room_1755466940_be9ffb03", messageType: "ice-candidate", currentUser: "user_1755463963096_8n4y3hq0z", currentChatId: "room_1755466940_be9ffb03" }
pubnubService.ts:210:21
🔄 Skipping WebRTC signal - handled by WebRTC listener pubnubService.ts:223:25
🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03 pubnubService.ts:443:17
🔍 Message content:
Object { type: "ice-candidate", data: {…}, from: "user_1755463963096_8n4y3hq0z", chatId: "room_1755466940_be9ffb03" }
pubnubService.ts:444:17
🔍 Message type check:
Object { hasMessage: true, messageType: "ice-candidate" }
pubnubService.ts:447:17
✅ Processing WebRTC signal: ice-candidate pubnubService.ts:455:21
🔄 Ignoring own signal: ice-candidate cleanVideoChatService.ts:220:17
📨 PubNub message received:
Object { channel: "chat-room_1755466940_be9ffb03", subscription: "chat-room_1755466940_be9ffb03", actualChannel: "chat-room_1755466940_be9ffb03", subscribedChannel: "chat-room_1755466940_be9ffb03", timetoken: "17554669493613709", publisher: "user_1755463963096_8n4y3hq0z", message: {…} }
pubnubService.ts:207:21
📨 Message details:
Object { channel: "chat-room_1755466940_be9ffb03", messageType: "ice-candidate", currentUser: "user_1755463963096_8n4y3hq0z", currentChatId: "room_1755466940_be9ffb03" }
pubnubService.ts:210:21
🔄 Skipping WebRTC signal - handled by WebRTC listener pubnubService.ts:223:25
🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03 pubnubService.ts:443:17
🔍 Message content:
Object { type: "ice-candidate", data: {…}, from: "user_1755463963096_8n4y3hq0z", chatId: "room_1755466940_be9ffb03" }
pubnubService.ts:444:17
🔍 Message type check:
Object { hasMessage: true, messageType: "ice-candidate" }
pubnubService.ts:447:17
✅ Processing WebRTC signal: ice-candidate pubnubService.ts:455:21
🔄 Ignoring own signal: ice-candidate cleanVideoChatService.ts:220:17
📨 PubNub message received:
Object { channel: "chat-room_1755466940_be9ffb03", subscription: "chat-room_1755466940_be9ffb03", actualChannel: "chat-room_1755466940_be9ffb03", subscribedChannel: "chat-room_1755466940_be9ffb03", timetoken: "17554669494776247", publisher: "user_1755463963096_8n4y3hq0z", message: {…} }
pubnubService.ts:207:21
📨 Message details:
Object { channel: "chat-room_1755466940_be9ffb03", messageType: "ice-candidate", currentUser: "user_1755463963096_8n4y3hq0z", currentChatId: "room_1755466940_be9ffb03" }
pubnubService.ts:210:21
🔄 Skipping WebRTC signal - handled by WebRTC listener pubnubService.ts:223:25
🔗 PubNub WebRTC signal received on channel: chat-room_1755466940_be9ffb03 pubnubService.ts:443:17
🔍 Message content:
Object { type: "ice-candidate", data: {…}, from: "user_1755463963096_8n4y3hq0z", chatId: "room_1755466940_be9ffb03" }
pubnubService.ts:444:17
🔍 Message type check:
Object { hasMessage: true, messageType: "ice-candidate" }
pubnubService.ts:447:17
✅ Processing WebRTC signal: ice-candidate pubnubService.ts:455:21
🔄 Ignoring own signal: ice-candidate cleanVideoChatService.ts:220:17

​
